<?xml version="1.0" encoding="utf-8" ?>
<rf:AliveContentPage 
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:views="clr-namespace:RedCorners.Demo.Views"
    xmlns:rf="clr-namespace:RedCorners.Forms;assembly=RedCorners.Forms"
    xmlns:ff="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
    xmlns:vm="clr-namespace:RedCorners.Demo.ViewModels"
    FixBottomPadding="False"
    FixTopPadding="False"
    UIStatusBarStyle="{Binding UIStatusBarStyle}"
    AndroidLayoutInScreen="{Binding AndroidLayoutInScreen}"
    AndroidTranslucentStatus="{Binding AndroidTranslucentStatus}"
    AndroidStatusBarColor="{Binding AndroidStatusBarColor}"
    x:Class="RedCorners.Demo.Views.MainPage">
    <rf:AliveContentPage.BindingContext>
        <vm:MainViewModel />
    </rf:AliveContentPage.BindingContext>

    <Grid>
        <ff:CachedImage
            Aspect="AspectFill"
            Source="{Binding BackgroundImage}" />
        
        <rf:AliveContentView FixTopPadding="True" BackgroundColor="Transparent">
            <StackLayout Padding="10">
                <Button Text="Test Modal">
                    <Button.Command>
                        <rf:PageCommand IsModal="True">
                            <rf:AliveContentPage>
                                <Grid>
                                    <Button Text="Pop" HorizontalOptions="Center" VerticalOptions="Center">
                                        <Button.Command>
                                            <rf:PopCommand FireOnce="False" FireDelay="1000" />
                                        </Button.Command>
                                    </Button>
                                </Grid>
                            </rf:AliveContentPage>
                        </rf:PageCommand>
                    </Button.Command>
                </Button>

                <Button Text="Show Modal From Page">
                    <Button.Command>
                        <rf:PageCommand IsModal="True">
                            <rf:PageCommand.Page>
                                <views:CounterPage />
                            </rf:PageCommand.Page>
                        </rf:PageCommand>
                    </Button.Command>
                </Button>

                <Button Text="Show Modal From Type">
                    <Button.Command>
                        <rf:PageCommand IsModal="True" PageType="{Type views:CounterPage}" />
                    </Button.Command>
                </Button>

                <Button Text="Show Sidebar" Command="{Binding ShowSidebarCommand}" />

                <Grid Padding="2" BackgroundColor="#99000000">
                    <Label Text="LightContent" TextColor="White" VerticalOptions="Center" />
                    <Switch HorizontalOptions="End" IsToggled="{Binding LightContent}" />
                </Grid>
                
                <Grid Padding="2" BackgroundColor="#99000000">
                    <Label Text="AndroidLayoutInScreen" TextColor="White" VerticalOptions="Center" />
                    <Switch HorizontalOptions="End" IsToggled="{Binding AndroidLayoutInScreen}" />
                </Grid>
                
                <Grid Padding="2" BackgroundColor="#99000000">
                    <Label Text="AndroidTranslucentStatus" TextColor="White" VerticalOptions="Center" />
                    <Switch HorizontalOptions="End" IsToggled="{Binding AndroidTranslucentStatus}" />
                </Grid>

                <Grid Padding="2" BackgroundColor="#99000000">
                    <Label Text="IsRight" TextColor="White" VerticalOptions="Center" />
                    <Switch HorizontalOptions="End" IsToggled="{Binding IsRight}" />
                </Grid>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" Text="Blue" Command="{Binding BlueStatusBarCommand}" />
                    <Button Grid.Column="1" Text="Green" Command="{Binding GreenStatusBarCommand}" />
                </Grid>
            </StackLayout>
        </rf:AliveContentView>
        
        <rf:Sidebar Side="{Binding Side}">
            <Frame
                HasShadow="True"
                HorizontalOptions="Fill"
                VerticalOptions="Fill"
                BackgroundColor="#77000000"
                Padding="{Static rf:Values.PageMargin}"
                CornerRadius="0">
                <Grid Padding="10">
                    <Label Text="Menu" TextColor="White" FontSize="Large" />
                </Grid>
            </Frame>
        </rf:Sidebar>
    </Grid>
    
</rf:AliveContentPage>
